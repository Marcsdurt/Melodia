/* ═══════════════════════════════════════════════════════════════
   MELODIA — COMPONENTS
   Banner, stats, cards, tabelas, playlists, detalhe,
   notas, letras, modais, formulários, cover upload, share
   ═══════════════════════════════════════════════════════════════ */

/* ════════════════════════════════════════════════════════════════
   BANNER
   ════════════════════════════════════════════════════════════════ */
.banner {
  background: linear-gradient(135deg, var(--surface) 0%, var(--bg3) 100%);
  border: 1px solid var(--border); border-radius: var(--radius);
  padding: 16px 20px; margin-bottom: 16px;
  position: relative; overflow: hidden;
}
@media (min-width: 600px) { .banner { padding: 20px 28px; margin-bottom: 20px; } }
.banner::before {
  content: '♪'; position: absolute; right: 16px; top: 50%;
  transform: translateY(-50%); font-size: 60px;
  color: var(--gold); opacity: 0.06; font-family: serif; pointer-events: none;
}
@media (min-width: 600px) { .banner::before { font-size: 80px; right: 32px; } }
.banner-greeting { font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--gold); margin-bottom: 5px; }
.banner-title { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 600; margin-bottom: 5px; }
@media (min-width: 600px) { .banner-title { font-size: 22px; } }
.banner-desc { font-size: 12px; color: var(--cream-dim); line-height: 1.6; margin-bottom: 14px; max-width: 400px; }
.banner-cta { position: relative; z-index: 1; }

/* ════════════════════════════════════════════════════════════════
   STATS
   ════════════════════════════════════════════════════════════════ */
.stats-row {
  display: grid; grid-template-columns: repeat(2, 1fr);
  gap: 12px; margin-bottom: 28px;
}
@media (min-width: 480px) { .stats-row { grid-template-columns: repeat(4, 1fr); gap: 14px; } }
@media (min-width: 600px) { .stats-row { gap: 18px; margin-bottom: 36px; } }
.stat-card {
  background: var(--bg3); border: 1px solid var(--border);
  padding: 16px 18px; border-radius: var(--radius);
  position: relative; overflow: hidden;
}
@media (min-width: 600px) { .stat-card { padding: 22px 26px; } }
.stat-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0;
  height: 2px; background: var(--gold); opacity: 0.4;
}

/* Empty / CTA state */
.stat-card-empty {
  background: var(--bg3);
  border: 1px dashed var(--border);
  padding: 14px 16px;
  border-radius: var(--radius);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 5px; cursor: pointer; text-align: center;
  transition: border-color 0.2s, background 0.2s;
  -webkit-tap-highlight-color: transparent;
  min-height: 72px;
}
@media (min-width: 600px) { .stat-card-empty { min-height: 88px; } }
.stat-card-empty::before { display: none; }
.stat-card-empty:hover  { border-color: var(--gold); background: var(--gold-dim); }
.stat-card-empty:active { background: var(--gold-dim); }

.stat-empty-icon {
  font-size: 16px; color: var(--cream-faint); line-height: 1;
}
.stat-empty-cta {
  font-size: 10px; letter-spacing: 0.08em;
  color: var(--cream-faint);
  line-height: 1.3;
}
.stat-num {
  font-family: 'Cormorant Garamond', serif;
  font-size: 28px; font-weight: 700; color: var(--gold2); line-height: 1;
}
@media (min-width: 600px) { .stat-num { font-size: 38px; } }
.stat-label {
  font-size: 9px; letter-spacing: 0.15em; text-transform: uppercase;
  color: var(--cream-dim); margin-top: 8px;
}

/* ════════════════════════════════════════════════════════════════
   SECTION HEADERS
   ════════════════════════════════════════════════════════════════ */
.section-head {
  display: flex; align-items: center;
  justify-content: space-between;
  margin-top: 32px; margin-bottom: 18px; gap: 12px; flex-wrap: wrap;
  padding: 0 2px; /* pequeno respiro lateral */
}
.section-head:first-child { margin-top: 0; }
@media (min-width: 600px) { .section-head { margin-top: 36px; margin-bottom: 22px; } }
.section-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 17px; font-weight: 600; letter-spacing: 0.01em;
}
@media (min-width: 600px) { .section-title { font-size: 20px; } }
.section-title em {
  font-style: italic; font-weight: 300;
  color: var(--cream-dim); font-size: 90%;
}
.section-link {
  font-size: 10px; letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--gold); cursor: pointer;
  border-bottom: 1px solid transparent; transition: border-color 0.2s;
  white-space: nowrap; flex-shrink: 0;
}
.section-link:hover { border-bottom-color: var(--gold); }

/* ════════════════════════════════════════════════════════════════
   SONG GRID & CARDS
   ════════════════════════════════════════════════════════════════ */
.song-grid {
  display: grid; grid-template-columns: repeat(2, 1fr);
  gap: 12px; margin-bottom: 32px;
}
@media (min-width: 480px)  { .song-grid { grid-template-columns: repeat(auto-fill, minmax(170px,1fr)); gap: 14px; } }
@media (min-width: 900px)  { .song-grid { grid-template-columns: repeat(auto-fill, minmax(200px,1fr)); gap: 18px; } }

.song-card {
  background: var(--bg3); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 14px;
  cursor: pointer; transition: all 0.25s;
  position: relative; overflow: hidden;
  -webkit-tap-highlight-color: transparent;
}
@media (min-width: 600px) { .song-card { padding: 20px; } }
.song-card:hover  { border-color: var(--gold); transform: translateY(-2px); box-shadow: 0 8px 28px rgba(0,0,0,0.4); }
.song-card:active { transform: translateY(0); }
.song-card::after {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0;
  height: 44px; background: linear-gradient(to top, var(--bg3), transparent);
  pointer-events: none;
}

/* ─── VINYL ─── */
.song-cover {
  width: 82%; aspect-ratio: 1; margin: 0 auto 12px;
  position: relative; display: flex; align-items: center;
  justify-content: center; border-radius: 50%; overflow: hidden;
}
@media (min-width: 600px) { .song-cover { width: 85%; margin-bottom: 16px; } }

.vinyl-wrap {
  position: relative; width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  border-radius: 50%; overflow: hidden;
}
.song-card:hover .vinyl-wrap { animation: vinylSpin 4s linear infinite; }
@keyframes vinylSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

.vinyl-disc {
  position: absolute; inset: 0; border-radius: 50%;
  background: radial-gradient(circle at 50%, #1a1a1a 0%, #0d0d0d 30%, #111 55%, #0a0a0a 100%);
  box-shadow: 0 4px 24px rgba(0,0,0,.8), inset 0 0 0 1px rgba(255,255,255,.04);
  overflow: hidden;
}
.vinyl-disc::before {
  content: ''; position: absolute; inset: 0; border-radius: 50%;
  background: repeating-radial-gradient(circle at 50%,
    transparent 0px, transparent 4px,
    rgba(255,255,255,.025) 4px, rgba(255,255,255,.025) 5px);
}
.vinyl-disc::after {
  content: ''; position: absolute; inset: 0; border-radius: 50%;
  background: linear-gradient(135deg,
    rgba(255,255,255,.07) 0%, transparent 40%,
    rgba(255,255,255,.03) 60%, transparent 100%);
}
.vinyl-art {
  position: absolute; width: 42%; height: 42%;
  border-radius: 50%; object-fit: cover; z-index: 2;
  box-shadow: 0 2px 12px rgba(0,0,0,.6);
}
.vinyl-emoji {
  position: absolute; width: 42%; height: 42%; border-radius: 50%;
  background: radial-gradient(circle, var(--surface2), var(--bg3));
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; z-index: 2; border: 1px solid rgba(255,255,255,.06);
}
@media (min-width: 600px) { .vinyl-emoji { font-size: 22px; } }
.vinyl-hole {
  position: absolute; width: 8%; height: 8%; border-radius: 50%;
  background: #000; z-index: 3; box-shadow: inset 0 0 0 1px rgba(255,255,255,.1);
}

.song-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 14px; font-weight: 600;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.2;
}
@media (min-width: 600px) { .song-title { font-size: 17px; } }
.song-artist {
  font-size: 11px; color: var(--cream-dim); margin-top: 2px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.song-meta {
  display: flex; align-items: center; justify-content: space-between;
  margin-top: 8px; padding-top: 8px; border-top: 1px solid var(--border);
}
.song-genre {
  font-size: 8px; letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--gold); background: var(--gold-dim);
  padding: 2px 6px; border-radius: 20px;
}
@media (min-width: 600px) { .song-genre { font-size: 9px; padding: 2px 8px; } }
.song-rating { display: flex; gap: 2px; }
.star { color: var(--border); font-size: 10px; transition: color 0.15s; }
.star.filled { color: var(--gold); }

/* ════════════════════════════════════════════════════════════════
   TABLE VIEW
   ════════════════════════════════════════════════════════════════ */
.song-table { width: 100%; border-collapse: collapse; }
.song-table th {
  font-size: 9px; letter-spacing: 0.15em; text-transform: uppercase;
  color: var(--cream-faint); padding: 0 10px 10px; text-align: left;
  border-bottom: 1px solid var(--border); font-weight: 400;
}
.song-table td {
  padding: 11px 10px; font-size: 12px;
  border-bottom: 1px solid rgba(58,52,40,0.5); vertical-align: middle;
}
@media (min-width: 600px) {
  .song-table th { padding: 0 16px 12px; }
  .song-table td { padding: 14px 16px; font-size: 13px; }
}
.song-table tr:hover td { background: var(--gold-dim); cursor: pointer; }
.col-album, .col-year { display: none; }
@media (min-width: 520px) { .col-year  { display: table-cell; } }
@media (min-width: 800px) { .col-album { display: table-cell; } }
.td-title  { font-family: 'Cormorant Garamond', serif; font-size: 15px; font-weight: 600; }
.td-artist { color: var(--cream-dim); }
.td-year   { color: var(--cream-faint); font-size: 12px; }

/* ════════════════════════════════════════════════════════════════
   VIEW TOGGLE
   ════════════════════════════════════════════════════════════════ */
.view-toggle { display: flex; border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; }
.vt-btn {
  background: none; border: none; padding: 7px 11px;
  cursor: pointer; color: var(--cream-faint); font-size: 13px;
  transition: all 0.2s; min-height: 34px;
}
.vt-btn.active { background: var(--gold-dim); color: var(--gold2); }
.vt-btn:hover:not(.active) { color: var(--cream-dim); background: var(--surface); }

/* ════════════════════════════════════════════════════════════════
   PLAYLISTS
   ════════════════════════════════════════════════════════════════ */
/* Playlist carrossel — scroll horizontal, arrastar */
.playlist-carousel {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
  cursor: grab;
  /* Sangra nas bordas para dar sensação de carrossel infinito */
  margin-left: calc(-1 * var(--content-pad));
  margin-right: calc(-1 * var(--content-pad));
  padding-left: var(--content-pad);
  padding-right: var(--content-pad);
  padding-bottom: 6px;
  user-select: none;
}
.playlist-carousel::-webkit-scrollbar { display: none; }
.playlist-carousel.dragging { cursor: grabbing; }

/* Grade expandida — todas as playlists em grid */
.playlist-grid-expanded {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}
@media (min-width: 600px) {
  .playlist-grid-expanded { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 16px; }
}

/* Card compacto — mesmo no carrossel e no grid */
.playlist-card {
  background: var(--bg3); border: 1px solid var(--border);
  border-radius: 6px; padding: 14px 16px;
  cursor: pointer; transition: border-color 0.2s, transform 0.2s, box-shadow 0.2s;
  display: flex; flex-direction: column; gap: 6px;
  flex-shrink: 0;
  width: 172px; /* largura fixa no carrossel */
  -webkit-tap-highlight-color: transparent;
}
.playlist-grid-expanded .playlist-card {
  width: auto; /* no grid expandido, largura é controlada pelo grid */
}
.playlist-card:hover  { border-color: var(--gold); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,.4); }
.playlist-card:active { transform: translateY(0); }

.playlist-emoji { font-size: 22px; line-height: 1; }
.playlist-name  {
  font-family: 'Cormorant Garamond', serif; font-size: 15px; font-weight: 600;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.playlist-grid-expanded .playlist-name { white-space: normal; font-size: 16px; }
.playlist-desc  {
  font-size: 11px; color: var(--cream-dim); line-height: 1.45;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
}
.playlist-count { font-size: 9px; letter-spacing: 0.12em; text-transform: uppercase; color: var(--gold); margin-top: 1px; }

/* Botão "ver todas" — só texto, sem fundo */
.playlist-see-all-btn {
  background: none; border: none; outline: none;
  font-family: 'Nunito Sans', sans-serif;
  font-size: 11px; font-weight: 600;
  letter-spacing: 0.08em; text-transform: uppercase;
  color: var(--cream-dim); cursor: pointer;
  padding: 4px 0;
  border-bottom: 1px solid transparent;
  transition: color 0.2s, border-color 0.2s;
  -webkit-tap-highlight-color: transparent;
}
.playlist-see-all-btn:hover { color: var(--cream); border-bottom-color: var(--cream-dim); }

/* ════════════════════════════════════════════════════════════════
   SONG DETAIL
   ════════════════════════════════════════════════════════════════ */
.detail-header {
  display: flex; gap: 16px;
  margin-bottom: 24px; align-items: flex-start;
}
@media (min-width: 600px) { .detail-header { gap: 28px; margin-bottom: 32px; } }
@media (max-width: 440px) {
  .detail-header { flex-direction: column; align-items: center; text-align: center; }
  .detail-tags   { justify-content: center; }
  .detail-stars  { justify-content: center; }
  .detail-actions { justify-content: center; }
}

.detail-cover {
  width: 120px; height: 120px;
  flex-shrink: 0; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  position: relative; border: none; cursor: default; overflow: hidden;
}
@media (min-width: 480px) { .detail-cover { width: 150px; height: 150px; } }
@media (min-width: 600px) { .detail-cover { width: 180px; height: 180px; } }
@media (min-width: 900px) { .detail-cover { width: 200px; height: 200px; } }
@media (max-width: 440px) { .detail-cover { width: 160px; height: 160px; } }

.detail-cover .vinyl-wrap {
  width: 100%; height: 100%; border-radius: 50%;
  animation: vinylSpin 8s linear infinite;
  animation-play-state: paused;
}
.detail-cover:hover .vinyl-wrap { animation-play-state: running; }
.detail-cover .vinyl-disc  { position: absolute; inset: 0; }
.detail-cover .vinyl-art   { width: 44%; height: 44%; }
.detail-cover .vinyl-emoji { width: 44%; height: 44%; font-size: 24px; }

.detail-info   { flex: 1; min-width: 0; }
.detail-title  {
  font-family: 'Playfair Display', serif;
  font-size: 20px; font-weight: 700; line-height: 1.15;
  margin-bottom: 5px; word-break: break-word;
}
@media (min-width: 480px) { .detail-title { font-size: 24px; } }
@media (min-width: 600px) { .detail-title { font-size: 30px; } }
@media (min-width: 900px) { .detail-title { font-size: 34px; } }
.detail-artist { font-size: 13px; color: var(--cream-dim); margin-bottom: 10px; }
@media (min-width: 600px) { .detail-artist { font-size: 16px; margin-bottom: 14px; } }
.detail-tags   { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 10px; }
.tag {
  font-size: 9px; letter-spacing: 0.1em; text-transform: uppercase;
  padding: 3px 9px; border-radius: 20px;
  border: 1px solid var(--border); color: var(--cream-dim);
}
.tag.gold { border-color: var(--gold); color: var(--gold); background: var(--gold-dim); }
.detail-stars { display: flex; gap: 4px; margin-bottom: 10px; }
.detail-star  { font-size: 15px; color: var(--border); }
.detail-star.filled { color: var(--gold); }
@media (min-width: 600px) { .detail-star { font-size: 18px; } }
.detail-actions {
  display: flex; gap: 20px; align-items: center; margin-top: 14px;
}
.detail-icon-btn {
  display: flex; align-items: center; justify-content: center;
  background: none; border: none; padding: 8px; cursor: pointer;
  color: var(--cream-faint);
  transition: color 0.15s, transform 0.15s;
  -webkit-tap-highlight-color: transparent;
}
.detail-icon-btn:hover  { color: var(--cream); transform: scale(1.15); }
.detail-icon-btn:active { transform: scale(0.92); }
.detail-icon-btn span   { display: none; }
.detail-icon-btn-danger:hover { color: var(--red); }

/* Popup de seleção de playlist */
.playlist-prompt-overlay {
  position: fixed; inset: 0; z-index: 200;
  background: rgba(0,0,0,0.65);
  display: flex; align-items: flex-end; justify-content: center;
  padding-bottom: env(safe-area-inset-bottom);
  animation: fadeIn 0.15s ease;
}
.playlist-prompt-box {
  background: var(--bg2); border: 1px solid var(--border);
  border-radius: 14px 14px 0 0; width: 100%; max-width: 480px;
  padding: 20px 0 8px;
  animation: slideUp 0.2s cubic-bezier(0.34,1.1,0.64,1);
}
@keyframes slideUp {
  from { transform: translateY(100%); }
  to   { transform: translateY(0); }
}
.playlist-prompt-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 16px; font-weight: 600; text-align: center;
  padding: 0 20px 14px; border-bottom: 1px solid var(--border);
  margin-bottom: 6px;
}
.playlist-prompt-list { padding: 0 8px; max-height: 50vh; overflow-y: auto; }
.playlist-prompt-item {
  display: flex; align-items: center; gap: 12px;
  padding: 13px 12px; border-radius: 8px; cursor: pointer;
  transition: background 0.15s;
  -webkit-tap-highlight-color: transparent;
}
.playlist-prompt-item:hover  { background: var(--surface); }
.playlist-prompt-item:active { background: var(--surface2); }
.playlist-prompt-item.active { background: var(--gold-dim); }
.playlist-prompt-emoji { font-size: 20px; flex-shrink: 0; width: 28px; text-align: center; }
.playlist-prompt-name  { flex: 1; font-size: 14px; }
.playlist-prompt-check { color: var(--gold); font-size: 14px; font-weight: 700; }
.playlist-prompt-remove { color: var(--cream-faint); margin-top: 4px; border-top: 1px solid var(--border); border-radius: 0 0 8px 8px; }
.playlist-prompt-cancel {
  display: block; width: calc(100% - 32px); margin: 10px 16px 8px;
  padding: 13px; border-radius: 8px;
  background: var(--surface); border: none; cursor: pointer;
  font-family: inherit; font-size: 13px; font-weight: 600;
  color: var(--cream-dim); letter-spacing: 0.05em;
  transition: background 0.15s;
  -webkit-tap-highlight-color: transparent;
}
.playlist-prompt-cancel:hover { background: var(--surface2); }

.back-btn {
  display: inline-flex; align-items: center; gap: 6px;
  font-size: 11px; letter-spacing: 0.12em; text-transform: uppercase;
  color: var(--cream-dim); cursor: pointer; margin-bottom: 18px;
  transition: color 0.2s; background: none; border: none;
  padding: 8px 0; font-family: inherit; min-height: 44px;
}
.back-btn:hover { color: var(--gold2); }

/* ════════════════════════════════════════════════════════════════
   NOTE BOX & DIVIDER
   ════════════════════════════════════════════════════════════════ */
.note-box {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 16px 18px;
  margin-bottom: 14px; position: relative;
}
@media (min-width: 600px) { .note-box { padding: 20px 22px; } }
.note-box::before {
  content: '"'; font-family: 'Cormorant Garamond', serif;
  font-size: 52px; color: var(--gold); opacity: 0.22;
  position: absolute; top: -4px; left: 12px; line-height: 1;
}
.note-text {
  font-family: 'Cormorant Garamond', serif;
  font-size: 15px; font-style: italic; color: var(--cream-dim);
  line-height: 1.7; padding-left: 18px;
}
@media (min-width: 600px) { .note-text { font-size: 16px; padding-left: 24px; } }
.note-date {
  font-size: 10px; color: var(--cream-faint);
  margin-top: 8px; padding-left: 18px; letter-spacing: 0.1em;
}

.divider { height: 1px; background: var(--border); margin: 24px 0; }

/* ════════════════════════════════════════════════════════════════
   EMPTY STATE
   ════════════════════════════════════════════════════════════════ */
.empty { text-align: center; padding: 44px 16px; color: var(--cream-faint); }
@media (min-width: 600px) { .empty { padding: 60px 20px; } }
.empty-icon  { font-size: 38px; margin-bottom: 14px; opacity: 0.5; }
.empty-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 19px; font-weight: 400; font-style: italic;
  color: var(--cream-dim); margin-bottom: 7px;
}
.empty-sub { font-size: 12px; }

/* ════════════════════════════════════════════════════════════════
   MODAL
   ════════════════════════════════════════════════════════════════ */
.modal-backdrop {
  position: fixed; inset: 0;
  background: rgba(8,7,5,.88);
  backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  z-index: 100; display: none;
  align-items: flex-end; justify-content: center;
  padding: 0;
}
.modal-backdrop.open { display: flex; }
@media (min-width: 600px) {
  .modal-backdrop { align-items: center; padding: 20px; }
}

.modal {
  background: var(--bg3); border: 1px solid var(--border);
  width: 100%; max-width: 100%;
  max-height: 92dvh; overflow-y: auto;
  border-radius: 14px 14px 0 0;
  animation: sheetUp 0.3s cubic-bezier(0.4,0,0.2,1);
  padding-bottom: env(safe-area-inset-bottom);
}
@media (min-width: 600px) {
  .modal {
    max-width: 560px; max-height: 90vh;
    border-radius: var(--radius);
    animation: modalIn 0.25s ease;
    padding-bottom: 0;
  }
}
.modal::before {
  content: ''; display: block; width: 38px; height: 4px;
  background: var(--border); border-radius: 2px; margin: 10px auto 0;
}
@media (min-width: 600px) { .modal::before { display: none; } }

@keyframes sheetUp {
  from { transform: translateY(100%); }
  to   { transform: translateY(0); }
}
@keyframes modalIn {
  from { opacity: 0; transform: scale(.96) translateY(10px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

.modal-header {
  padding: 14px 18px 12px; border-bottom: 1px solid var(--border);
  display: flex; align-items: flex-start; justify-content: space-between;
}
@media (min-width: 600px) { .modal-header { padding: 26px 32px 18px; } }
.modal-title { font-family: 'Cormorant Garamond', serif; font-size: 19px; font-weight: 600; }
@media (min-width: 600px) { .modal-title { font-size: 24px; } }
.modal-title-sub { font-size: 11px; color: var(--cream-dim); margin-top: 3px; font-style: italic; }
.modal-close {
  background: none; border: none; color: var(--cream-dim);
  font-size: 22px; cursor: pointer; padding: 4px;
  min-width: 36px; min-height: 36px;
  display: flex; align-items: center; justify-content: center;
  transition: color 0.2s;
}
.modal-close:hover { color: var(--cream); }

.modal-body   { padding: 16px 18px; }
.modal-footer { padding: 10px 18px 14px; display: flex; gap: 8px; justify-content: flex-end; }
@media (min-width: 600px) {
  .modal-body   { padding: 22px 32px; }
  .modal-footer { padding: 14px 32px 24px; gap: 10px; }
}

/* ─── FORMS ─── */
.form-row     { margin-bottom: 14px; }
.form-row.two { display: grid; grid-template-columns: 1fr; gap: 14px; }
@media (min-width: 480px) { .form-row.two { grid-template-columns: 1fr 1fr; } }
.form-label {
  font-size: 10px; letter-spacing: 0.14em; text-transform: uppercase;
  color: var(--cream-dim); margin-bottom: 7px; display: block;
}
.form-input {
  width: 100%; background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 11px 13px;
  color: var(--cream); font-family: 'Nunito Sans', sans-serif;
  font-size: 16px;
  font-weight: 300; outline: none; transition: border-color 0.2s;
  -webkit-appearance: none;
}
.form-input:focus { border-color: var(--gold); }
.form-input::placeholder { color: var(--cream-faint); }
select.form-input { cursor: pointer; }
textarea.form-input { min-height: 78px; resize: vertical; line-height: 1.6; }

.star-picker { display: flex; gap: 6px; }
.star-pick {
  font-size: 28px; cursor: pointer; color: var(--border);
  transition: all 0.15s; user-select: none;
  -webkit-tap-highlight-color: transparent; padding: 4px;
}
.star-pick:hover, .star-pick.on { color: var(--gold2); transform: scale(1.1); }

/* ════════════════════════════════════════════════════════════════
   MODAL SEARCH (iTunes)
   ════════════════════════════════════════════════════════════════ */
.modal-search-zone { padding: 14px 18px 0; }
@media (min-width: 600px) { .modal-search-zone { padding: 20px 32px 0; } }
.search-api-wrap {
  display: flex; align-items: center; gap: 10px;
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 10px 13px;
  transition: border-color 0.2s;
}
.search-api-wrap:focus-within { border-color: var(--gold); }
.search-api-input {
  flex: 1; background: none; border: none; outline: none;
  color: var(--cream); font-family: 'Nunito Sans', sans-serif;
  font-size: 16px; font-weight: 300;
}
.search-api-input::placeholder { color: var(--cream-faint); }
.search-api-spinner { color: var(--gold); font-size: 16px; opacity: 0; transition: opacity 0.2s; animation: spin 0.8s linear infinite; }
.search-api-spinner.active { opacity: 1; }
@keyframes spin { from { transform: rotate(0); } to { transform: rotate(360deg); } }

.api-results { max-height: 200px; overflow-y: auto; margin-top: 8px; }
@media (min-width: 600px) { .api-results { max-height: 250px; } }
.api-result-item {
  display: flex; align-items: center; gap: 10px;
  padding: 9px 10px; border-radius: var(--radius);
  cursor: pointer; transition: background 0.15s; border: 1px solid transparent;
  -webkit-tap-highlight-color: transparent; min-height: 44px;
}
.api-result-item:hover   { background: var(--gold-dim); border-color: var(--border); }
.api-result-item:active  { background: var(--gold-dim); }
.api-result-item.selected { background: var(--gold-dim); border-color: var(--gold); }
.api-result-cover {
  width: 40px; height: 40px; border-radius: 2px;
  object-fit: cover; flex-shrink: 0; background: var(--surface2);
}
.api-result-cover-placeholder {
  width: 40px; height: 40px; border-radius: 2px;
  background: var(--surface2); display: flex; align-items: center;
  justify-content: center; font-size: 18px; flex-shrink: 0;
}
.api-result-info   { flex: 1; min-width: 0; }
.api-result-title  {
  font-family: 'Cormorant Garamond', serif; font-size: 14px; font-weight: 600;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--cream);
}
.api-result-sub    { font-size: 11px; color: var(--cream-dim); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top: 2px; }
.api-result-badge  {
  font-size: 9px; letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--gold); background: var(--gold-dim); padding: 2px 7px;
  border-radius: 20px; flex-shrink: 0;
}
.api-result-check { color: var(--gold2); font-size: 14px; flex-shrink: 0; }
.api-empty { text-align: center; padding: 18px; color: var(--cream-faint); font-size: 13px; font-style: italic; }
.api-hint  { text-align: center; padding: 16px; color: var(--cream-faint); font-size: 12px; }
.api-hint-icon { font-size: 24px; margin-bottom: 7px; opacity: 0.4; }

.modal-divider {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 18px 0; color: var(--cream-faint);
  font-size: 10px; letter-spacing: 0.12em; text-transform: uppercase;
}
@media (min-width: 600px) { .modal-divider { padding: 16px 32px 0; } }
.modal-divider::before, .modal-divider::after { content: ''; flex: 1; height: 1px; background: var(--border); }
.form-prefilled .form-input { border-color: rgba(201,168,76,.35); background: rgba(201,168,76,.05); }

/* ════════════════════════════════════════════════════════════════
   COVER UPLOAD
   ════════════════════════════════════════════════════════════════ */
.cover-upload-zone {
  border: 1.5px dashed var(--border); border-radius: var(--radius);
  padding: 14px; text-align: center; cursor: pointer;
  transition: border-color 0.2s, background 0.2s;
  background: var(--surface); position: relative;
}
.cover-upload-zone:hover  { border-color: var(--gold); background: var(--gold-dim); }
.cover-upload-zone:active { background: var(--gold-dim); }
.cover-upload-zone input[type=file] { position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%; }
.cover-upload-preview { width: 54px; height: 54px; border-radius: 50%; object-fit: cover; border: 2px solid var(--gold); margin: 0 auto 7px; display: block; }
.cover-upload-label { font-size: 11px; color: var(--cream-dim); letter-spacing: 0.08em; }
.cover-upload-hint  { font-size: 10px; color: var(--cream-faint); margin-top: 3px; }

/* ════════════════════════════════════════════════════════════════
   LYRICS
   ════════════════════════════════════════════════════════════════ */
.lyrics-section { margin-top: 24px; }
@media (min-width: 600px) { .lyrics-section { margin-top: 36px; } }
.lyrics-header {
  display: flex; align-items: baseline; justify-content: space-between;
  margin-bottom: 14px; flex-wrap: wrap; gap: 8px;
}
.lyrics-tip { font-size: 11px; color: var(--gold); letter-spacing: 0.06em; opacity: 0.7; display: flex; align-items: center; gap: 5px; }
.lyrics-tip-icon { font-size: 10px; }
.lyrics-body {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 18px;
  position: relative; cursor: default; user-select: none; -webkit-user-select: none;
}
@media (min-width: 600px) { .lyrics-body { padding: 28px 32px; } }
.lyrics-body::before {
  content: '♪'; position: absolute; top: 14px; right: 16px;
  font-size: 56px; color: var(--gold); opacity: 0.04;
  font-family: serif; pointer-events: none; line-height: 1;
}
.lyric-stanza { margin-bottom: 18px; }
.lyric-stanza:last-child { margin-bottom: 0; }
.lyric-line {
  font-family: 'Cormorant Garamond', serif; font-style: italic;
  font-size: 15px; line-height: 1.95; color: var(--cream-dim);
  padding: 4px 8px; border-radius: 4px; cursor: pointer;
  transition: background 0.15s, color 0.15s, border-left-color 0.15s;
  border-left: 2px solid transparent;
  display: inline-block;
  width: 100%;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  -webkit-user-select: none;
}
@media (min-width: 600px) { .lyric-line { font-size: 17px; } }
.lyric-line:hover { background: rgba(201,168,76,0.08); color: var(--cream); }
.lyric-line:active { background: rgba(201,168,76,0.16); }
.lyric-line-marked {
  background: linear-gradient(120deg, rgba(201,168,76,.22), rgba(232,201,122,.12));
  color: var(--gold2);
  border-left-color: rgba(201,168,76,.6);
}
.lyric-line-marked:hover {
  background: linear-gradient(120deg, rgba(201,168,76,.3), rgba(232,201,122,.18));
}

.highlights-section { margin-top: 22px; }
.highlights-title {
  font-size: 10px; letter-spacing: 0.16em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 10px; font-family: 'Nunito Sans', sans-serif;
  font-weight: 600;
}
.highlights-title em { font-style: italic; text-transform: none; font-family: 'Cormorant Garamond', serif; font-size: 14px; letter-spacing: 0.02em; color: var(--cream-dim); }
.highlight-item {
  display: flex; align-items: flex-start; gap: 10px;
  padding: 12px 14px; background: var(--surface);
  border: 1px solid var(--border); border-left: 3px solid var(--gold);
  border-radius: var(--radius); margin-bottom: 8px;
  transition: border-color 0.2s, background 0.2s;
}
.highlight-item:hover { background: var(--gold-dim); border-color: var(--gold); }
.highlight-quote { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 15px; color: var(--cream-dim); line-height: 1.6; flex: 1; }
.highlight-remove {
  background: none; border: none; color: var(--cream-faint);
  cursor: pointer; font-size: 18px; padding: 4px; min-width: 32px; min-height: 32px;
  display: flex; align-items: center; justify-content: center; transition: color 0.15s; flex-shrink: 0;
}
.highlight-remove:hover { color: var(--red); }

.lyrics-empty {
  margin-top: 24px; text-align: center; padding: 36px 16px;
  border: 1.5px dashed var(--border); border-radius: var(--radius);
  cursor: pointer; transition: border-color 0.2s, background 0.2s;
  -webkit-tap-highlight-color: transparent;
}
.lyrics-empty:hover  { border-color: var(--gold); background: var(--gold-dim); }
.lyrics-empty:active { background: var(--gold-dim); }
.lyrics-empty-icon   { font-size: 30px; opacity: 0.3; margin-bottom: 10px; color: var(--gold); }
.lyrics-empty-text   { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-style: italic; color: var(--cream-dim); margin-bottom: 5px; }
.lyrics-empty-sub    { font-size: 12px; color: var(--cream-faint); }

/* ════════════════════════════════════════════════════════════════
   SHARE MODAL
   ════════════════════════════════════════════════════════════════ */
.share-preview-wrap {
  background: #080706; border: 1px solid var(--border);
  border-radius: var(--radius); overflow: hidden;
  display: flex; justify-content: center; align-items: center; padding: 12px;
}
#share-canvas { width: 100%; max-width: 220px; height: auto; border-radius: 2px; display: block; }
@media (min-width: 480px) { #share-canvas { max-width: 270px; } }
@media (min-width: 600px) { #share-canvas { max-width: 300px; } .share-preview-wrap { padding: 16px; } }

.share-controls      { padding: 14px 0 4px; }
.share-control-label { font-size: 10px; letter-spacing: 0.16em; text-transform: uppercase; color: var(--cream-dim); margin-bottom: 10px; display: block; }
.share-verses-list   { display: flex; flex-direction: column; gap: 7px; max-height: 170px; overflow-y: auto; margin-bottom: 4px; }
.share-verse-item {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 13px; background: var(--surface);
  border: 1px solid var(--border); border-radius: var(--radius);
  cursor: pointer; transition: all 0.2s; user-select: none;
  -webkit-tap-highlight-color: transparent; min-height: 44px;
}
.share-verse-item:hover   { border-color: var(--gold); background: var(--gold-dim); }
.share-verse-item:active  { background: var(--gold-dim); }
.share-verse-item.selected { border-color: var(--gold); background: rgba(201,168,76,.12); }
.share-verse-text {
  font-family: 'Cormorant Garamond', serif; font-style: italic;
  font-size: 13px; color: var(--cream-dim); flex: 1; line-height: 1.4;
  display: -webkit-box; -webkit-line-clamp: 2;
  -webkit-box-orient: vertical; overflow: hidden;
}
.share-verse-item.selected .share-verse-text { color: var(--gold2); }
.share-verse-tick { font-size: 12px; color: var(--border); flex-shrink: 0; }
.share-verse-item.selected .share-verse-tick { color: var(--gold); }

.share-themes { display: flex; gap: 7px; flex-wrap: wrap; }
.share-theme-btn {
  display: flex; align-items: center; gap: 7px;
  padding: 7px 13px; background: var(--surface);
  border: 1px solid var(--border); border-radius: 20px;
  color: var(--cream-dim); font-family: 'Nunito Sans', sans-serif;
  font-size: 11px; cursor: pointer; transition: all 0.2s;
  min-height: 36px; -webkit-tap-highlight-color: transparent;
}
.share-theme-btn:hover  { border-color: var(--gold); color: var(--cream); }
.share-theme-btn:active { background: var(--gold-dim); }
.share-theme-btn.active { border-color: var(--gold); color: var(--gold2); background: var(--gold-dim); }
.theme-dot { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; display: inline-block; }

/* ════════════════════════════════════════════════════════════════
   FEED — Activity Stream
   ════════════════════════════════════════════════════════════════ */
.feed-empty {
  text-align: center; padding: 60px 20px;
}
.feed-empty-icon  { font-size: 40px; opacity: 0.3; margin-bottom: 16px; color: var(--gold); }
.feed-empty-title { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 600; margin-bottom: 8px; }
.feed-empty-sub   { font-size: 13px; color: var(--cream-dim); }

/* Day group */
.feed-day-group {
  padding: 0 0 8px;
  margin-bottom: 8px;
}
.feed-day-alt {
  background: rgba(255,255,255,0.018);
  border-radius: 6px;
  padding: 0 8px 8px;
  margin: 0 -8px 8px;
}

/* Day label */
.feed-day-label {
  font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--cream-faint); padding: 18px 0 12px;
  position: sticky; top: 0;
  background: var(--bg);
  z-index: 1;
}
.feed-day-alt .feed-day-label { background: transparent; }

/* Event row */
.feed-event {
  display: flex; align-items: flex-start; gap: 10px;
  padding: 10px 4px;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  position: relative;
  animation: feedIn 0.3s ease both;
}
.feed-event:active { background: var(--gold-dim); border-radius: 6px; }

@keyframes feedIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Stagger delay per event */
.feed-event:nth-child(2)  { animation-delay: 0.04s; }
.feed-event:nth-child(3)  { animation-delay: 0.08s; }
.feed-event:nth-child(4)  { animation-delay: 0.12s; }
.feed-event:nth-child(5)  { animation-delay: 0.16s; }
.feed-event:nth-child(6)  { animation-delay: 0.20s; }
.feed-event:nth-child(7)  { animation-delay: 0.24s; }
.feed-event:nth-child(8)  { animation-delay: 0.28s; }
.feed-event:nth-child(9)  { animation-delay: 0.32s; }
.feed-event:nth-child(10) { animation-delay: 0.36s; }

/* Highlight strip for high-rated */
.feed-event-highlight {
  border-left: 2px solid rgba(201,168,76,0.45);
  padding-left: 8px;
  background: linear-gradient(to right, rgba(201,168,76,0.06), transparent 80%);
  border-radius: 0 4px 4px 0;
  margin-left: -2px;
}

/* Left column: icon + continuous thread */
.feed-event-left {
  display: flex; flex-direction: column; align-items: center;
  flex-shrink: 0; width: 24px;
  padding-top: 1px;
  /* stretch full height of the row so thread reaches next event */
  align-self: stretch;
}
.feed-event-icon {
  font-size: 15px; line-height: 1; flex-shrink: 0;
  width: 24px; text-align: center;
}
.feed-event-thread {
  width: 1px;
  flex: 1;
  min-height: 18px;
  margin-top: 6px;
  background: linear-gradient(to bottom, var(--border), transparent);
  opacity: 0.7;
}

/* Art thumbnail */
.feed-event-art {
  width: 42px; height: 42px; border-radius: 5px;
  flex-shrink: 0; overflow: hidden; cursor: pointer;
  box-shadow: 0 2px 8px rgba(0,0,0,0.35);
}
.feed-event-art img { width: 100%; height: 100%; object-fit: cover; display: block; }
.feed-event-art-placeholder {
  width: 42px; height: 42px; border-radius: 5px;
  background: var(--surface2); display: flex; align-items: center;
  justify-content: center; font-size: 16px;
}

/* Text body — ACTION IS PROTAGONIST */
.feed-event-body { flex: 1; min-width: 0; cursor: pointer; padding-top: 2px; }
.feed-event-action {
  font-size: 13px; color: var(--cream-dim); line-height: 1.35;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.feed-event-name {
  color: var(--cream); font-weight: 600;
}
.feed-event-artist {
  font-size: 11px; color: var(--cream-faint); margin-top: 3px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.feed-event-note {
  font-size: 11px; color: var(--cream-dim); font-style: italic;
  margin-top: 6px; line-height: 1.5; padding: 6px 8px;
  background: var(--surface); border-radius: 4px;
  border-left: 2px solid var(--border);
  display: -webkit-box; -webkit-line-clamp: 2;
  -webkit-box-orient: vertical; overflow: hidden;
}

/* Time */
.feed-event-time {
  font-size: 10px; color: var(--cream-faint);
  white-space: nowrap; flex-shrink: 0;
  padding-top: 4px;
}

/* Kept for profile/library usage */
.feed-item-art-placeholder {
  width: 42px; height: 42px; border-radius: 4px;
  background: var(--surface2); display: flex; align-items: center;
  justify-content: center; font-size: 16px;
}
.feed-item-right   { display: flex; flex-direction: column; align-items: flex-end; gap: 3px; flex-shrink: 0; min-width: 36px; }
.feed-item-rating  { font-size: 11px; color: var(--gold2); font-weight: 600; }
.feed-item-time    { font-size: 10px; color: var(--cream-faint); white-space: nowrap; }

/* ════════════════════════════════════════════════════════════════
   DIÁRIO
   ════════════════════════════════════════════════════════════════ */

/* Ajuste 5 — Virada de página: respiro maior antes de cada mês */
.diary-month-label {
  font-size: 9px; letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--gold); font-family: 'Nunito Sans', sans-serif; font-weight: 600;
  margin: 48px 0 12px; /* respiro generoso acima */
  padding-top: 16px;
  border-top: 1px solid rgba(201,168,76,0.15); /* linha dourada sutil na virada */
}
.diary-month-label:first-child {
  margin-top: 0; padding-top: 0; border-top: none;
}

/* Ajuste 1 — Densidade: padding consistente, bloco coeso */
.diary-row {
  display: flex; align-items: flex-start; gap: 10px;
  padding: 11px 0 10px;
  border-bottom: 1px solid var(--border);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}
.diary-row:active { background: var(--gold-dim); border-radius: 3px; }

.diary-row-date {
  font-size: 10px; color: var(--cream-faint); flex-shrink: 0;
  width: 32px; padding-top: 2px; font-variant-numeric: tabular-nums;
  line-height: 1; letter-spacing: 0.02em;
}
.diary-row-line {
  width: 1px; background: var(--border); align-self: stretch;
  flex-shrink: 0; margin: 3px 0; min-height: 20px;
}
.diary-row-body { flex: 1; min-width: 0; }

/* Ajuste 1 — Título e artista como parágrafo coeso */
.diary-row-title {
  font-family: 'Cormorant Garamond', serif; font-size: 15px; font-weight: 600;
  line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  margin-bottom: 1px; /* quase colado ao artista */
}
@media (min-width: 480px) { .diary-row-title { font-size: 16px; } }

/* Ajuste 3 — Gênero inline com artista, small caps sem pill */
.diary-row-artist {
  font-size: 11px; color: var(--cream-dim);
  margin-top: 0;
  line-height: 1.3;
  display: flex; align-items: baseline; gap: 0;
  overflow: hidden;
}
.diary-row-artist-text {
  /* Artista + álbum: fade quando longo, sempre cede espaço ao gênero */
  flex: 1; min-width: 0;
  white-space: nowrap; overflow: hidden;
  position: relative;
  /* Fade no fim via mask */
  -webkit-mask-image: linear-gradient(to right, black 70%, transparent 100%);
  mask-image: linear-gradient(to right, black 70%, transparent 100%);
}
.diary-row-genre {
  font-size: 9px; letter-spacing: 0.1em;
  text-transform: uppercase; font-variant: small-caps;
  color: var(--cream-faint); opacity: 0.75;
  flex-shrink: 0; /* nunca encolhe — sempre visível */
  padding-left: 6px; white-space: nowrap;
}

/* Ajuste 2 — Nota com fade, sem "..." */
.diary-row-note {
  font-size: 11px;
  color: var(--cream-faint);
  opacity: 0.9; /* 90% da opacidade do artista */
  font-style: italic;
  margin-top: 5px;
  line-height: 1.5;
  max-height: 2.9em; /* ~2 linhas */
  overflow: hidden;
  position: relative;
}
.diary-row-note::after {
  content: '';
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 1.4em;
  background: linear-gradient(transparent, var(--bg));
  pointer-events: none;
}
/* Dentro de alt-day, o fade precisa ser diferente */
.feed-day-alt .diary-row-note::after { background: linear-gradient(transparent, var(--bg3)); }

/* Ajuste 4 — Coluna direita: estrelas alinhadas ao topo (= ao título) */
.diary-row-right {
  display: flex; flex-direction: column; align-items: flex-end;
  gap: 3px; flex-shrink: 0; padding-top: 2px; /* alinha com título */
  max-width: 56px;
}
.diary-row-rating {
  font-size: 9px; color: var(--cream-faint); letter-spacing: 0.05em;
  /* Carimbo, não destaque */
  opacity: 0.7;
}

/* ════════════════════════════════════════════════════════════════
   BUSCAR
   ════════════════════════════════════════════════════════════════ */
.search-local-wrap { }
.search-local-hint {
  font-size: 11px; color: var(--cream-faint); margin-bottom: 20px;
  font-style: italic; text-align: center;
}

/* ════════════════════════════════════════════════════════════════
   BIBLIOTECA
   ════════════════════════════════════════════════════════════════ */
.library-empty-section {
  display: flex; align-items: center; gap: 10px;
  padding: 14px 16px; margin-bottom: 24px;
  border: 1px dashed var(--border); border-radius: 6px;
  font-size: 12px; color: var(--cream-faint);
  cursor: pointer; transition: border-color 0.2s, background 0.2s;
  -webkit-tap-highlight-color: transparent;
}
.library-empty-section:hover  { border-color: var(--gold); background: var(--gold-dim); color: var(--cream); }
.library-empty-section:active { background: var(--gold-dim); }

/* ════════════════════════════════════════════════════════════════
   PERFIL
   ════════════════════════════════════════════════════════════════ */
.profile-identity {
  display: flex; align-items: center; gap: 14px;
  margin-bottom: 24px; padding-bottom: 24px;
  border-bottom: 1px solid var(--border);
  flex-wrap: wrap;
}
.profile-avatar-wrap {
  position: relative; width: 58px; height: 58px;
  border-radius: 50%; flex-shrink: 0; cursor: pointer;
  border: 2px solid var(--border); overflow: hidden;
  transition: border-color 0.2s;
}
@media (min-width: 480px) { .profile-avatar-wrap { width: 64px; height: 64px; } }
.profile-avatar-wrap:hover { border-color: var(--gold); }
.profile-avatar-img {
  width: 100%; height: 100%; object-fit: cover; display: block;
}
.profile-avatar-placeholder {
  width: 100%; height: 100%;
  background: radial-gradient(circle, var(--surface2), var(--bg3));
  display: flex; align-items: center; justify-content: center;
  font-family: 'Cormorant Garamond', serif; font-size: 22px; color: var(--gold2);
}
.profile-avatar-edit {
  position: absolute; inset: 0; background: rgba(0,0,0,0.5);
  display: flex; align-items: center; justify-content: center;
  font-size: 14px; opacity: 0; transition: opacity 0.2s; border-radius: 50%;
}
.profile-avatar-wrap:hover .profile-avatar-edit { opacity: 1; }

.profile-identity-info { flex: 1; min-width: 0; }
.profile-name {
  font-family: 'Cormorant Garamond', serif;
  font-size: 20px; font-weight: 600; line-height: 1.2;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
@media (min-width: 480px) { .profile-name { font-size: 22px; } }
.profile-bio {
  font-size: 11px; color: var(--cream-dim); margin-top: 4px;
}

/* Moment cards — 2 col on small, 3 col on wider */
.profile-moments {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px; margin-bottom: 28px;
}
@media (min-width: 480px) {
  .profile-moments { grid-template-columns: repeat(3, 1fr); }
}
.profile-moment-card {
  background: var(--bg3); border: 1px solid var(--border);
  border-radius: 8px; padding: 12px 10px; text-align: center;
  position: relative; overflow: hidden;
}
@media (min-width: 480px) { .profile-moment-card { padding: 14px 12px; } }
.profile-moment-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0;
  height: 2px; background: var(--gold); opacity: 0.35;
}
.profile-moment-icon { font-size: 18px; margin-bottom: 7px; display: block; }
.profile-moment-val  {
  font-family: 'Cormorant Garamond', serif; font-size: 12px; font-weight: 600;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 3px;
}
@media (min-width: 480px) { .profile-moment-val { font-size: 13px; } }
.profile-moment-key  {
  font-size: 8px; letter-spacing: 0.12em; text-transform: uppercase;
  color: var(--cream-faint);
}